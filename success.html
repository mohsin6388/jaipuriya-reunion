


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Reunion Pass</title>
<style>
:root{
  --bg:#071022;
  --card:#0f1724;
  --accent1:#00d4ff; /* cyan */
  --accent2:#ff4db8; /* pink */
  --muted:rgba(255,255,255,0.12);
  --glass:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
}

*{box-sizing:border-box}

html,body{height:100%; margin:0}
body{
  font-family:Inter, Poppins, system-ui, -apple-system, "Segoe UI", Roboto;
  background: radial-gradient(600px 300px at 10% 20%, rgba(0,212,255,0.06), transparent),
              radial-gradient(600px 300px at 90% 80%, rgba(255,77,184,0.04), transparent),
              var(--bg);
  color:#e6eef8;
  display:flex;align-items:center;justify-content:center;padding:28px;
}
.container{
  width:100%;max-width:980px;
  display:flex;gap:24px;flex-direction:column;align-items:center;
}
.header{
  text-align:center;
}
.header h1{margin:0;font-size:1.05rem;font-weight:700;letter-spacing:0.6px}
.header p{margin:6px 0 0;color:rgba(230,238,248,0.75);font-size:0.92rem}
.ticket-wrap{
  width:100%;
  display:grid;
  grid-template-columns: 1fr 320px;
  gap:20px;
}
.ticket{
  background:var(--glass);
  border-radius:18px;
  padding:22px;
  border:1px solid var(--muted);
  box-shadow: 0 20px 40px rgba(3,8,18,0.6);
  position:relative;overflow:hidden;
}
.ticket::after{
  content:'';position:absolute;inset:0;pointer-events:none;
  background: linear-gradient(90deg, rgba(0,212,255,0.06) 0%, transparent 30%, transparent 70%, rgba(255,77,184,0.04) 100%);
}
.ticket-main{display:flex;flex-direction:column;gap:18px;position:relative}
.title-row{display:flex;align-items:flex-start;gap:16px}
.event-badge{
  min-width:78px;height:78px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
  display:flex;align-items:center;justify-content:center;font-weight:800;color:#051426;font-size:0.85rem;
}
.event-info{flex:1}
.event-title{font-family: 'Orbitron', sans-serif;font-size:1.6rem;margin:0;text-transform:uppercase;line-height:1}
.tagline{margin-top:6px;color:rgba(230,238,248,0.8);font-weight:600;font-size:0.9rem}
.details-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:6px}
.detail{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
.detail .label{font-size:0.72rem;color:rgba(230,238,248,0.6);text-transform:uppercase}
.detail .value{margin-top:6px;font-weight:700;font-size:0.98rem}
.footer-row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:8px}
.count-pill{background:rgba(255,255,255,0.03);padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);font-weight:700}
.actions{display:flex;gap:12px}
.btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;color:#051426}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:rgba(230,238,248,0.9)}

.stub{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:14px;padding:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid var(--muted);
}
.stub .qr{width:140px;height:140px;background:white;border-radius:12px;display:flex;align-items:center;justify-content:center;overflow:hidden}
/* simple css QR placeholder */
.qr::before{content:'';width:90px;height:90px;background-image:linear-gradient(45deg,#000 25%, transparent 25%, transparent 75%, #000 75%, #000), linear-gradient(45deg,#000 25%, transparent 25%, transparent 75%, #000 75%, #000);background-size:10px 10px;background-position:0 0,5px 5px}
.stub .ticket-no{margin-top:14px;font-family:Orbitron, monospace;color:var(--accent2);font-weight:800}

/* Notch effect */
.notch{position:absolute;right:320px;top:50%;transform:translateY(-50%);width:24px;height:48px;background:transparent;border-radius:999px;box-shadow:inset 8px 0 0 var(--bg)}

/* Responsive */
@media (max-width:880px){
  .ticket-wrap{grid-template-columns:1fr 260px}
  .notch{right:260px}
}
@media (max-width:720px){
  .ticket-wrap{grid-template-columns:1fr;}
  .notch{display:none}
  .ticket{padding:18px}
  .title-row{flex-direction:row;gap:12px}
  .event-badge{width:64px;height:64px}
  .details-grid{grid-template-columns:1fr 1fr}
  .stub{order:2;width:100%}
}
@media (max-width:420px){
  .header h1{font-size:0.98rem}
  .event-title{font-size:1.15rem}
  .details-grid{grid-template-columns:1fr}
  .event-badge{width:56px;height:56px}
}

/* Print */
@media print{
  body{background:white;color:black}
  .btn{display:none}.stub .qr{background:#eee}
}
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Payment received — your pass is ready</h1>
      <p>Download this ticket</p>
    </div>

    <div class="ticket-wrap">

      <div class="ticket" role="article">
        <div class="ticket-main">
          <div class="title-row">
            <div class="event-badge">VIP</div>
            <div class="event-info">
              <div class="event-title">Reunion Event</div>
              <div class="tagline">Official Freshers Party · March 28, 2026</div>
            </div>
          </div>

          <div class="details-grid">
            <div class="detail"><div class="label">Date</div><div class="value">March 28, 2026</div></div>
            <div class="detail"><div class="label">Time</div><div class="value">6:00 PM Onwards</div></div>
            <div class="detail"><div class="label">Venue</div><div class="value">The Grand Ballroom</div></div>
            <div class="detail"><div class="label">No. of People</div><div id="noPeople" class="value">X</div></div>
          </div>

          <div class="footer-row">
            <div class="count-pill">Admit: 1 Person</div>
            <div class="actions">
              <button class="btn" onclick="downloadTicketPDF()">Download PDF</button>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>


  







  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>





  <script>


  // Use this function for the Download PDF button
  async function downloadTicketPDF() {
    // 1) select the element to capture
    const node = document.querySelector('.ticket-wrap'); // or '.ticket' or '#partyTicket'

    if (!node) {
      alert('Ticket element not found.');
      return;
    }

    // 2) temporarily remove any animation / hover transforms so capture is stable
    const prevTransition = node.style.transition;
    node.style.transition = 'none';

    // 3) configure html2canvas
    const scale = 2; // higher = sharper
    const canvas = await html2canvas(node, {
      scale,
      useCORS: true,          // allow cross-origin images if configured
      backgroundColor: null,  // capture transparent background if any
      scrollY: -window.scrollY // stable capture even if page scrolled
    });

    // restore transition
    node.style.transition = prevTransition;

    // 4) convert canvas to image
    const imgData = canvas.toDataURL('image/png');

    // 5) create a pdf and add the image (handles multi-page if needed)
    const { jsPDF } = window.jspdf;
    // Choose orientation based on element aspect ratio
    const imgWidthPx = canvas.width;
    const imgHeightPx = canvas.height;
    const pdfFormat = imgWidthPx > imgHeightPx ? 'landscape' : 'portrait';
    const pdf = new jsPDF({ orientation: pdfFormat, unit: 'pt', format: 'a4' });

    const pageWidth = pdf.internal.pageSize.getWidth();   // pts
    const pageHeight = pdf.internal.pageSize.getHeight(); // pts

    // Convert pixel dimensions -> PDF points using 72 DPI relative to canvas scale:
    // We map image width to page width and scale height proportionally.
    const ratio = imgWidthPx / pageWidth;
    const imgDisplayWidth = pageWidth;
    const imgDisplayHeight = imgHeightPx / ratio;

    let position = 0;

    if (imgDisplayHeight <= pageHeight) {
      // Single page: center vertically
      const y = (pageHeight - imgDisplayHeight) / 2;
      pdf.addImage(imgData, 'PNG', 0, y, imgDisplayWidth, imgDisplayHeight);
    } else {
      // Multi-page: slice the image into page-sized chunks
      // We'll draw the full image but shift the source region using canvas cropping trick:
      let remainingHeight = imgDisplayHeight;
      let srcYpx = 0;
      const pxPerPt = imgWidthPx / imgDisplayWidth; // pixels per pdf point

      while (remainingHeight > 0) {
        // create a temporary canvas with the slice height in px
        const sliceHeightPx = Math.min(pageHeight * pxPerPt, imgHeightPx - srcYpx);
        const sliceCanvas = document.createElement('canvas');
        sliceCanvas.width = imgWidthPx;
        sliceCanvas.height = sliceHeightPx;
        const ctx = sliceCanvas.getContext('2d');

        // draw the slice from the large canvas
        ctx.drawImage(
          canvas,
          0, srcYpx,                       // sx, sy
          imgWidthPx, sliceHeightPx,      // sWidth, sHeight
          0, 0,                           // dx, dy
          imgWidthPx, sliceHeightPx       // dWidth, dHeight
        );

        const sliceData = sliceCanvas.toDataURL('image/png');

        // compute display height in points for this slice
        const sliceDisplayHeight = sliceHeightPx / pxPerPt;

        // add to pdf
        if (position > 0) pdf.addPage(); // new page after first
        pdf.addImage(sliceData, 'PNG', 0, 0, imgDisplayWidth, sliceDisplayHeight);

        // advance
        remainingHeight -= sliceDisplayHeight;
        srcYpx += sliceHeightPx;
        position++;
      }
    }

    // 6) Save file
    const filename = `ticket-${new Date().toISOString().slice(0,10)}.pdf`;
    pdf.save(filename);
  }
</script>

</body>
</html>
